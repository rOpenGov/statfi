<!--
%\VignetteEngine{knitr}
%\VignetteIndexEntry{An R Markdown Vignette made with knitr}
-->

Statistics Finland (Tilastokeskus) R tools
===========

This [statfi](http://ropengov.github.com/statfi) R package to access
open data from [Statistics
Finland](http://www.stat.fi/tup/tilastotietokannat/index_fi.html). 

The available data sets include about 3000 data sets from [Statistics
Finland](http://www.stat.fi/org/lainsaadanto/avoin_data.html),
[Eurostat](http://pxweb2.stat.fi/Database/Eurostat/databasetree_fi.asp),
and other [international
statistics](http://pxweb2.stat.fi/Database/Kansainvalisen_tiedon_tietokanta/databasetree_fi.asp)). The
package is part of the [rOpenGov](http://ropengov.github.io) project.

The listings of [Statistics Finland (StatFi), Eurostat and
International
statistics](http://www.stat.fi/org/lainsaadanto/avoin_data.html) are
available for browsing in PCAxis, CSV and XML format:

 * StatFi [PCAxis](http://pxweb2.stat.fi/database/StatFin/databasetree_fi.asp) [CSV](http://pxweb2.stat.fi/database/StatFin/StatFin_rap_csv.csv) [XML](http://pxweb2.stat.fi/database/StatFin/StatFin_rap_xml.csv)  
 * Eurostat [PCAxis](http://pxweb2.stat.fi/Database/Eurostat/databasetree_fi.asp) [CSV](http://pxweb2.stat.fi/database/StatFin/StatFin_rap.csv)  
 * International statistics [PC Axis](http://pxweb2.stat.fi/Database/Kansainvalisen_tiedon_tietokanta/databasetree_fi.asp)


## Installation

Release version for general use:

```{r install, eval=FALSE}
install.packages("statfi")
library(statfi)
```

Development version (potentially unstable):

```{r install2, eval=FALSE}
install.packages("devtools")
library(devtools)
install_github("statfi", "ropengov")
library(statfi)
```


### Browsing the data

You can download these listings in R as follows:

```{r tilastokeskus-1, warning=FALSE, message=FALSE}
# Load the library
library(statfi)

# Statistics Finland open data listing
datasets.statfi <- list_statfi_files()

# Eurostat open data listing
datasets.eurostat <- list_eurostat_files()

# International statistics open data listing
# Listing not available for R (but the data sets are!); browse manually at: http://pxweb2.stat.fi/Database/Kansainvalisen_tiedon_tietokanta/databasetree_fi.asp

# Descriptions of the first entries
head(datasets.statfi$DESCRIPTION)

# Investigate the first entry in StatFi data
print(datasets.statfi[1,])
```

## Retrieving the data

Retrieve data from Statfi by defining URL of the data set. For the
listing of available data sets and their corresponding URLs, see
above.

```{r tilastokeskus-2, warning=FALSE, message=FALSE}
library(statfi)

# Define URL (see list_statfi_files() and list_eurostat_files())
url <- "http://pxweb2.stat.fi/Database/StatFin/tul/tvt/2009/120_tvt_2009_2011-02-18_tau_112_fi.px"

# Get the data
df <- get_statfi(url)
df[1:3,]
```


## Licensing and Citations

### Statistics Finland data

Regarding the data, kindly cite Statfi with a link to
[http://www.statfi.fi](http://www.statfi.fi/). We are grateful to
Statistics Finland open data personnell for their support during the R
package development.

### statfi R package

This work can be freely used, modified and distributed under the
[Two-clause FreeBSD
license](http://en.wikipedia.org/wiki/BSD\_licenses). Kindly cite the
R package as 'Leo Lahti, Juuso Parkkinen ja Joona LehtomÃ¤ki (C)
2010-2014. statfi R package. URL: http://ropengov.github.io/statfi'.


### Session info

This vignette was created with

```{r sessioninfo, message=FALSE, warning=FALSE}
sessionInfo()
```
